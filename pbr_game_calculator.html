<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PBR Game Calculator | dmibot</title>
<link rel="icon" href="https://dmibot.github.io/Mikrotik.svg">
<style>
  body{margin:0;font-family:"Segoe UI",sans-serif;background:#f8fff8;color:#333;}
  header{
    background:#4CAF50;color:#fff;text-align:center;position:relative;
    padding:25px 10px;border-bottom:5px solid #388E3C;
  }
  header img{width:70px;vertical-align:middle;}
  header h1{margin:10px 0 5px;font-size:1.6rem;}
  header p{margin:0;font-size:.9rem;opacity:.9;}
  .home-btn{
    position:absolute;left:15px;top:15px;background:#fff;color:#4CAF50;
    border:none;padding:7px 12px;border-radius:8px;font-weight:bold;cursor:pointer;
    box-shadow:0 2px 5px rgba(0,0,0,.2);transition:.2s;
  }
  .home-btn:hover{background:#c8facc;}
  main{max-width:700px;margin:25px auto;padding:15px;background:#fff;border-radius:14px;
       box-shadow:0 3px 8px rgba(0,0,0,0.1);}
  label{display:block;margin-top:10px;font-weight:500;}
  input,select{width:100%;padding:8px;margin-top:4px;border:1px solid #ccc;
               border-radius:6px;box-sizing:border-box;font-size:.9rem;}
  button{background:#4CAF50;color:#fff;border:none;padding:10px 18px;border-radius:8px;
         cursor:pointer;font-weight:bold;margin:10px 5px 0 0;}
  button:hover{background:#2e7d32;}
  textarea{width:100%;height:150px;margin-top:10px;padding:8px;font-family:monospace;
           font-size:.9rem;border-radius:8px;border:1px solid #ccc;resize:vertical;}
  footer{text-align:center;color:#666;padding:15px;margin-top:30px;font-size:.85rem;}
</style>
</head>
<body>
<header>
  <button class="home-btn" onclick="window.location.href='index.html'">üè† Home</button>
  <img src="https://dmibot.github.io/Mikrotik.svg" alt="Mikrotik Logo">
  <h1>PBR Game Calculator</h1>
  <p>by dmibot</p>
</header>

<main>
  <h2 style="text-align:center;color:#388E3C;">‚öôÔ∏è Simple Policy Based Routing for Game</h2>

  <label>Versi RouterOS:</label>
  <select id="rosVer">
    <option value="6">RouterOS v6</option>
    <option value="7" selected>RouterOS v7</option>
  </select>

  <label>Nama ISP (Prefix Route):</label>
  <input id="ispName" placeholder="contoh: to_Telkom">

  <label>ISP Interface (ISP yang dipilih untuk PBR):</label>
  <input id="ispInterface" placeholder="contoh: ether4" value="ether4">

  <label>IP Gateway ISP:</label>
  <input id="ispGateway" placeholder="contoh: 172.16.0.1" value="172.16.0.1">

  <label>Pilih Game:</label>
  <select id="gameSelect">
    <option value="">-- Pilih Game --</option>
    <option value="PUBG">PUBG (UDP 10000-20000)</option>
    <option value="Mobile Legends">Mobile Legends (UDP 5000-5200)</option>
    <option value="Free Fire">Free Fire (UDP 7000-7999)</option>
    <option value="Call of Duty">Call of Duty Mobile (TCP/UDP 3013,7500-7999)</option>
    <option value="Genshin">Genshin Impact (UDP 22101-22102)</option>
    <option value="Manual">Manual Input</option>
  </select>

  <div id="manualInput" style="display:none;">
    <label>Nama Game Manual:</label>
    <input id="manualName" placeholder="contoh: Apex Legends">
    <label>Port Game Manual:</label>
    <input id="manualPort" placeholder="contoh: 40000-40100,udp">
  </div>

  <label>Priority (0=lowest, 1=highest):</label>
  <select id="priority">
    <option value="1" selected>1 (Highest)</option>
    <option value="2">2</option><option value="3">3</option>
    <option value="4">4</option><option value="5">5</option>
    <option value="6">6</option><option value="7">7</option>
    <option value="8">8 (Lowest)</option>
  </select>

  <label>Bandwidth Upload (kbps):</label>
  <input id="bwUp" placeholder="contoh: 2048">

  <label>Bandwidth Download (kbps):</label>
  <input id="bwDown" placeholder="contoh: 8192">

  <div style="text-align:center;margin-top:15px;">
    <button id="generateBtn">Generate Script</button>
    <button id="copyBasic">Copy Basic</button>
    <button id="copyRouting">Copy Routing</button>
  </div>

  <h3>üìú Konfigurasi Dasar</h3>
  <textarea id="outputBasic" readonly></textarea>

  <h3>üß≠ Konfigurasi Routing</h3>
  <textarea id="outputRouting" readonly></textarea>
</main>

<footer>¬© 2025 dmibot | PBR Game Calculator</footer>

<script>
// === Pop-up Info Dua Bahasa ===
window.addEventListener('load',()=>{
  alert(
"üáÆüá© Bahasa Indonesia\n"+
"PBR Game Calculator by @dmibot\n\n"+
"Tools ini digunakan untuk membuat konfigurasi otomatis Policy Based Routing (PBR) untuk trafik game. "+
"Tersedia pilihan game populer dan mode manual port.\n\n"+
"1Ô∏è‚É£ Bagian Basic menghasilkan konfigurasi dasar interface dan mangle.\n"+
"2Ô∏è‚É£ Bagian Routing menghasilkan route policy untuk game tersebut.\n\n"+
"========================\n\n"+
"üá¨üáß English Version\n"+
"PBR Game Calculator by @dmibot\n\n"+
"This tool automatically builds Policy Based Routing (PBR) configuration for game traffic. "+
"It includes preset games and manual port options.\n\n"+
"1Ô∏è‚É£ The Basic section generates base interface and mangle configuration.\n"+
"2Ô∏è‚É£ The Routing section generates route policy for the selected game."
  );
});

// === Show manual input ===
document.getElementById('gameSelect').addEventListener('change',()=>{
  const val=document.getElementById('gameSelect').value;
  document.getElementById('manualInput').style.display=(val==='Manual')?'block':'none';
});
</script>

<!-- JS Logic -->
<script src="modules/pbr_game_calculator.js"></script>
</body>
</html>
